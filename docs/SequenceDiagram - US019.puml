@startuml
skinparam DefaultFontSize 20
participant ":Test"
note left of ":Test" #powderblue
	Arrange
end note
participant ":GetPersonalAndGroupTransactionsInDateRangeController"
participant "person:Person"
participant "personalLedger:Ledger"
participant "groupsList:GroupsList"
participant "group:Group"
participant "groupLedger:Ledger"

note left of ":Test" #powderblue
	Act
end note

":Test" -> ":GetPersonalAndGroupTransactionsInDateRangeController" : getPersonalAndGroupTransactions\n(person, initialDate, finalDate, groupsList)
activate ":GetPersonalAndGroupTransactionsInDateRangeController" #FFBBBB

":GetPersonalAndGroupTransactionsInDateRangeController" -> "groupsList:GroupsList" : returnTransactionsFromAllGroupsAPersonIsIn\n(person, initialDate, finalDate)
activate "groupsList:GroupsList" #FFBBBB

"groupsList:GroupsList" -> "group:Group" : returnGroupLedgerInDateRange\n(initialDate, finalDate, person)
activate "group:Group" #FFBBBB
deactivate "groupsList:GroupsList"
"group:Group" -> "groupLedger:Ledger" : getTransactionsInDateRange\n(initialDate, finalDate)
activate "groupLedger:Ledger" #FFBBBB
deactivate "groupLedger:Ledger" #FFBBBB
deactivate "group:Group"

":GetPersonalAndGroupTransactionsInDateRangeController" -> "person:Person" : returnPersonLedgerInDateRange\n(initialDate, finalDate)
activate "person:Person" #FFBBBB

"person:Person" -> "personalLedger:Ledger" : getTransactionsInDateRange\n(initialDate, finalDate)
activate "personalLedger:Ledger" #FFBBBB
deactivate "personalLedger:Ledger" #FFBBBB
deactivate "person:Person"

":GetPersonalAndGroupTransactionsInDateRangeController" --> ":Test" : selectedTransactions
deactivate ":GetPersonalAndGroupTransactionsInDateRangeController" #FFBBBB

note left of ":Test" #powderblue
	Assert
end note

":Test" -> ":Test" : assertEquals(expectedTransactions, \n                    selectedTransactions)

@enduml