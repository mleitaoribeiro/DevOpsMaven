@startuml
create ":Test"
==Arrange==
create "person:Person"
create "catList: CategoryList"
create "acList:AccountsList"
create "ledger:Ledger"

create "amount:MonetaryValue"
":Test" -> "amount:MonetaryValue" : create (amount, currency)

== Act ==

":Test" -> "person:Person" : createTransaction (amount, description, \ncat, accountFrom, accountTo, type)
activate "person:Person"  #FFBBBB

"person:Person" -> "amount:MonetaryValue" : validateIfAmountIsPositive()

"person:Person" -> "catList: CategoryList" : validateIfCategoryIsInTheCategoryList(category)

"person:Person" -> "acList:AccountsList" : validateIfAccountIsInTheAccountsList(accountTo)

"person:Person" -> "acList:AccountsList" : validateIfAccountIsInTheAccountsList(accountFrom)

"person:Person" -> "ledger:Ledger" : addTransactionToLedger(amount, description, cat, accountFrom, accountTo, type)
activate "ledger:Ledger"  #FFBBBB

create "transaction:Transaction"
"ledger:Ledger" -> "transaction:Transaction" : create (amount, description, cat, accountFrom, accountTo, type)

"ledger:Ledger" -> "ledger:Ledger": add
deactivate "ledger:Ledger"  #FFBBBB
deactivate "person:Person"  #FFBBBB

== Assert ==

":Test" -> ":Test" : assertTrue(TransactionCreated)

@enduml